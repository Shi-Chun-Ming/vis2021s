<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">

    <style>
        html,
        body {
            height: 200%;
        }
        #training-section, #testing-section {
            height: 100%;
			overflow: hidden;
        }

        #train-vs-test {
            height: 100%;
            position: fixed;
            max-width: 100%;
        }

        .padding {
            height: 100%;
        }

        #right {
            width: 60%;
            height: 100%;
            position: relative;
            float: right;
        }
        #left {
            width: 40%;
            height: 100%;
            float: left;
        }
    </style>
</head>

<body>


        <div id="right">
            <div id="train-vs-test"></div>
        </div>

        <div id="left">
            <div id="training-section">
				<h1>
					訓練資料集的部分
				</h1>
            </div>
            <div id="testing-section">
				<h1>
					測試資料集的部分
				</h1>
            </div>
        </div>
        
        
        
        
        <script src="./lib/d3.v3.min.js"></script>
        <script src="./lib/binarydecisiontree.min.js"></script>

        <script>
            var Lipsum = "資料集由 10 000 個資料點組成，這些資料點儲存為行，其中 UID 列中有 14 個功能：唯一標識符範圍 從 1 到 10000 個產品 ID：包括低字母 L、M 或 H（占所有產品的 50%）、中等（30%）和高 （20%）作為產品品質變種和變種特定序列號的溫度 [K]： 使用隨機行走過程生成， 後來標準化為 2 K左右 300 K 過程溫度的標準偏差 [K]： 使用隨機行走過程正常化為 1 K 的標準偏差生成， 添加到空氣溫度加上 10 K. 旋轉速度[rpm]：從2860 W 的功率計算，覆蓋著一個正常分佈的雜訊 扭矩[Nm]：扭矩值通常分佈在 40Nm 左右，Ïmp=10Nm，並且沒有負值。工具磨損[最小]：品質變種 H/M/L 將 5/3/2 分鐘的工具磨損添加到過程中的所用工具中。和「機器故障」標籤，指示，該電腦是否在這個特定數據點失敗的任何以下故障模式是真實的。機器故障包括五種獨立故障模式工具磨損故障 （TWF）：該工具將在隨機選擇的工具磨損時間 200+ 240 分鐘（我們資料集中的 120次）之間替換故障此時，工具被替換 69 次，失敗 51 次（隨機分配）。散熱失敗 （HDF）：如果空氣和工藝溫度之間的差值低於 8.6 K，並且工具的旋轉速度低於 1380 rpm ™，則熱耗散（HDF）：熱耗散會導致過程故障。115 個數據點就是這種情況。電源故障 （PWF）：扭矩和旋轉速度（在 rad/s） 中的產品等於過程所需的功率。如果此功率低於 3500 W 或高於 9000 W，則過程失敗，我們的資料集中則有 95 次失敗。超系故障 （OSF）：如果 L 產品變種（12，000 M，13，000 H）的工具磨損和扭矩產品超過 11，000 minNm，則過程因過度勞累而失敗。98 個數據點也是如此。隨機故障（RNF）：無論其過程參數如何，每個過程都有可能出現 0.1% 的故障。只有 5 個數據點，低於我們數據集中 10，000 個數據點的預期。如果上述至少一種故障模式為真，則過程失敗，「機器故障」標籤設置為 1因此，它不透明的機器學習方法，哪些故障模式已導致過程失敗";

            window.onload = function () {
                function resizeRight(){
                    d3.select("#train-vs-test")
                        .style("width", d3.select("#right").node().clientWidth + "px")
                    ;
                }

                resizeRight();

                d3.select(window)
                    .on("resize", function(){ resizeRight() })
                ;


                /**
                 * 填版面，不然全部都是白色的很單調
                 * 這兩個 section 是要讓同學放說明資料和圖片的地方
                */
                d3.select("#training-section")
                    .selectAll("p")
                    .data(d3.range(1, 10))
                    .enter()
                    .append("p")
                    .text(Lipsum)
                ;

                d3.select("#testing-section")
                    .selectAll("p")
                    .data(d3.range(1, 10))
                    .enter()
                    .append("p")
                    .text(Lipsum)
                ;
				
				d3.select("#training-section")
                    .selectAll("img")
					.data(d3.range(1, 4))
					.enter()
					.append("img")
					.attr("src", function(d){ return "media/" + d + ".png"})
                    .style('height', '350px')
                    .style('width', '350px')
                ;

                d3.select("#testing-section")
                    .selectAll("img")
					.data(d3.range(4, 7))
					.enter()
					.append("img")
					.attr("src", function(d){ return "media/" + d + ".png"})
                    .style('height', '350px')
                    .style('width', '350px')
                ;
				
				

                var bdt = new BinaryDecisionTree({
                    el: "#train-vs-test",
                    trainingSection: "#training-section",
                    testSection: "#testing-section",
                    
					/**
                     * 預設會讓小球在上方排排站
                     * 如果不要排排站的話，必須要把這個 paramater 設成 false
                     * 如果要排排站的話，直接註解掉這行就行
                    */
                    //flood: false
                });

                bdt.setDataFromJson("https://raw.githubusercontent.com/Shi-Chun-Ming/Self/gh-pages/dataset.json", function(){
                    bdt.install();
                    bdt.play();
                })

                /**
                 * or
                 * bdt.setDataFromObject({ 
                 *  tree_data: tree_data,
                 *  tree_training_set: tree_training_set,
                 *  tree_stats: tree_stats, 
                 *  tree_test_set: tree_test_set, 
                 *  test_stats : test_stats
                 * })
                 * 同步函式，不需要 callback
                 * bdt.install();
                 * bdt.play();
                */
            }
        </script>

</body>



</html>